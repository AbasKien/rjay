{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      price: '',\n      stock: 1,\n      imageFile: null // Holds the selected file\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.imageFile = event.target.files[0];\n    },\n    async submitProduct() {\n      // Validate stock value\n      if (this.stock <= 0 || isNaN(this.stock)) {\n        alert(\"Stock quantity must be a positive number.\");\n        return;\n      }\n      try {\n        const formData = new FormData();\n        formData.append('name', this.name);\n        formData.append('description', this.description);\n        formData.append('price', this.price);\n        formData.append('stock', this.stock); // Ensure it's a valid number\n        formData.append('image', this.imageFile); // Attach the image file\n\n        const response = await axios.post('http://localhost:5555/add-product', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if (response.data.success) {\n          alert('Product added successfully!');\n          this.$emit('productAdded'); // Notify parent or refresh\n        } else {\n          alert('Failed to add product');\n        }\n      } catch (error) {\n        console.error('Error adding product:', error);\n        alert('There was an error adding the product.');\n      }\n    },\n    async handleLogout() {\n      try {\n        console.log('Logging out...');\n        await axios.post('http://localhost:5555/logout', {}, {\n          withCredentials: true\n        });\n        localStorage.removeItem('userRole');\n        this.$router.push('/login'); // Redirect to the login page\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","name","description","price","stock","imageFile","methods","handleFileUpload","event","target","files","submitProduct","isNaN","alert","formData","FormData","append","response","post","headers","success","$emit","error","console","handleLogout","log","withCredentials","localStorage","removeItem","$router","push"],"sources":["C:\\laragon\\www\\project_appdev\\Frontend\\src\\views\\admin.vue"],"sourcesContent":["<template>\n  <div class=\"product-form-container\">\n    <h1>Add Product</h1>\n    <form @submit.prevent=\"submitProduct\" class=\"product-form\">\n      <div class=\"form-group\">\n        <label for=\"name\">Product Name:</label>\n        <input type=\"text\" v-model=\"name\" required id=\"name\" placeholder=\"Enter product name\" />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"description\">Description:</label>\n        <textarea v-model=\"description\" required id=\"description\" placeholder=\"Enter product description\"></textarea>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"price\">Price:</label>\n        <input type=\"number\" v-model=\"price\" required id=\"price\" placeholder=\"Enter product price\" />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"stock\">Stock Quantity:</label>\n        <input type=\"number\" v-model=\"stock\" required id=\"stock\" placeholder=\"Enter stock quantity\" min=\"1\" />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"image\">Product Image:</label>\n        <input type=\"file\" @change=\"handleFileUpload\" accept=\"image/*\" required id=\"image\" />\n      </div>\n      <button type=\"submit\" class=\"submit-button\">Add Product</button>\n    </form>\n    <button @click=\"handleLogout\" class=\"logout-button\">Logout</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      price: '',\n      stock: 1,\n      imageFile: null, // Holds the selected file\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.imageFile = event.target.files[0];\n    },\n    async submitProduct() {\n      // Validate stock value\n      if (this.stock <= 0 || isNaN(this.stock)) {\n        alert(\"Stock quantity must be a positive number.\");\n        return;\n      }\n\n      try {\n        const formData = new FormData();\n        formData.append('name', this.name);\n        formData.append('description', this.description);\n        formData.append('price', this.price);\n        formData.append('stock', this.stock); // Ensure it's a valid number\n        formData.append('image', this.imageFile); // Attach the image file\n\n        const response = await axios.post('http://localhost:5555/add-product', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' },\n        });\n\n        if (response.data.success) {\n          alert('Product added successfully!');\n          this.$emit('productAdded'); // Notify parent or refresh\n        } else {\n          alert('Failed to add product');\n        }\n      } catch (error) {\n        console.error('Error adding product:', error);\n        alert('There was an error adding the product.');\n      }\n    },\n    async handleLogout() {\n      try {\n        console.log('Logging out...');\n        await axios.post('http://localhost:5555/logout', {}, { withCredentials: true });\n        localStorage.removeItem('userRole');\n        this.$router.push('/login'); // Redirect to the login page\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.product-form-container {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\nh1 {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 1.8rem;\n  color: #333;\n}\n\n.product-form {\n  display: flex;\n  flex-direction: column;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 5px;\n}\n\n.product-form input,\n.product-form textarea {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  color: #333;\n}\n\n.product-form textarea {\n  resize: vertical;\n  height: 100px;\n}\n\n.submit-button {\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  font-size: 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  align-self: center;\n}\n\n.submit-button:hover {\n  background-color: #45a049;\n}\n\n.submit-button:active {\n  background-color: #388e3c;\n}\n\n.product-form-container .form-group input[type=\"file\"] {\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #ddd;\n  font-size: 1rem;\n}\n\n.logout-button {\n  background-color: #f44336;\n  color: white;\n  border: none;\n  padding: 10px 15px;\n  font-size: 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-top: 20px;\n  display: block;\n  width: 100%;\n  text-align: center;\n  transition: background-color 0.3s ease;\n}\n\n.logout-button:hover {\n  background-color: #d32f2f;\n}\n\n.logout-button:active {\n  background-color: #b71c1c;\n}\n</style>\n"],"mappings":";AA+BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE,IAAI,CAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAACH,SAAQ,GAAIG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACxC,CAAC;IACD,MAAMC,aAAaA,CAAA,EAAG;MACpB;MACA,IAAI,IAAI,CAACP,KAAI,IAAK,KAAKQ,KAAK,CAAC,IAAI,CAACR,KAAK,CAAC,EAAE;QACxCS,KAAK,CAAC,2CAA2C,CAAC;QAClD;MACF;MAEA,IAAI;QACF,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACf,IAAI,CAAC;QAClCa,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACd,WAAW,CAAC;QAChDY,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACb,KAAK,CAAC;QACpCW,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACZ,KAAK,CAAC,EAAE;QACtCU,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACX,SAAS,CAAC,EAAE;;QAE1C,MAAMY,QAAO,GAAI,MAAMlB,KAAK,CAACmB,IAAI,CAAC,mCAAmC,EAAEJ,QAAQ,EAAE;UAC/EK,OAAO,EAAE;YAAE,cAAc,EAAE;UAAsB;QACnD,CAAC,CAAC;QAEF,IAAIF,QAAQ,CAACjB,IAAI,CAACoB,OAAO,EAAE;UACzBP,KAAK,CAAC,6BAA6B,CAAC;UACpC,IAAI,CAACQ,KAAK,CAAC,cAAc,CAAC,EAAE;QAC9B,OAAO;UACLR,KAAK,CAAC,uBAAuB,CAAC;QAChC;MACF,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CT,KAAK,CAAC,wCAAwC,CAAC;MACjD;IACF,CAAC;IACD,MAAMW,YAAYA,CAAA,EAAG;MACnB,IAAI;QACFD,OAAO,CAACE,GAAG,CAAC,gBAAgB,CAAC;QAC7B,MAAM1B,KAAK,CAACmB,IAAI,CAAC,8BAA8B,EAAE,CAAC,CAAC,EAAE;UAAEQ,eAAe,EAAE;QAAK,CAAC,CAAC;QAC/EC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,EAAE;MAC/B,EAAE,OAAOR,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}