{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"product-grid\"\n};\nconst _hoisted_3 = {\n  class: \"product-image\"\n};\nconst _hoisted_4 = [\"src\", \"alt\"];\nconst _hoisted_5 = {\n  class: \"product-overlay\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"product-info\"\n};\nconst _hoisted_8 = {\n  class: \"price\"\n};\nconst _hoisted_9 = {\n  class: \"quantity-container\"\n};\nconst _hoisted_10 = [\"onClick\", \"disabled\"];\nconst _hoisted_11 = [\"onUpdate:modelValue\", \"max\"];\nconst _hoisted_12 = [\"onClick\", \"disabled\"];\nconst _hoisted_13 = {\n  class: \"search-bar\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header section with title and description \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"header-section\"\n  }, [_createElementVNode(\"h1\", null, \"Our Products\"), _createElementVNode(\"p\", null, \"Explore our premium collection of school supplies. Quality and style to help you succeed.\")], -1 /* HOISTED */)), _createCommentVNode(\" Product grid \"), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredProducts, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"product-card\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      src: `http://localhost:5555${product.image_url}`,\n      alt: product.name\n    }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n      onClick: $event => $options.addToCart(product),\n      class: \"add-to-cart-btn\"\n    }, \" Add to Cart \", 8 /* PROPS */, _hoisted_6)])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h3\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, \"₱\" + _toDisplayString(product.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n      onClick: $event => $options.decrementQuantity(product),\n      class: \"quantity-button\",\n      disabled: product.orderQuantity <= 1\n    }, \"-\", 8 /* PROPS */, _hoisted_10), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => product.orderQuantity = $event,\n      type: \"number\",\n      min: \"1\",\n      max: product.stock,\n      class: \"quantity-input\"\n    }, null, 8 /* PROPS */, _hoisted_11), [[_vModelText, product.orderQuantity, void 0, {\n      number: true\n    }]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.incrementQuantity(product),\n      class: \"quantity-button\",\n      disabled: product.orderQuantity >= product.stock\n    }, \"+\", 8 /* PROPS */, _hoisted_12)])])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Search Bar \"), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchQuery = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.debouncedSearch && $options.debouncedSearch(...args)),\n    placeholder: \"Search products...\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]]), _cache[2] || (_cache[2] = _createElementVNode(\"button\", null, [_createElementVNode(\"i\", {\n    class: \"fas fa-search\"\n  })], -1 /* HOISTED */))]), _createCommentVNode(\" Footer \"), _cache[4] || (_cache[4] = _createElementVNode(\"footer\", {\n    class: \"footer\"\n  }, [_createElementVNode(\"div\", {\n    class: \"footer-bottom\"\n  }, [_createElementVNode(\"p\", null, [_createTextVNode(\"© 2024 Margatheo Store. All Rights Reserved. Powered by \"), _createElementVNode(\"a\", {\n    href: \"http://localhost:8080/home\",\n    target: \"_blank\"\n  }, \"Margatheo®\")])])], -1 /* HOISTED */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","filteredProducts","product","key","id","_hoisted_3","src","image_url","alt","name","_hoisted_4","_hoisted_5","onClick","$event","$options","addToCart","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","price","toFixed","_hoisted_9","decrementQuantity","disabled","orderQuantity","_hoisted_10","type","min","max","stock","_hoisted_11","number","incrementQuantity","_hoisted_12","_hoisted_13","_cache","searchQuery","onInput","args","debouncedSearch","placeholder","_createTextVNode","href","target"],"sources":["C:\\laragon\\www\\project_appdev\\Frontend\\src\\views\\product.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- Header section with title and description -->\n    <div class=\"header-section\">\n      <h1>Our Products</h1>\n      <p>Explore our premium collection of school supplies. Quality and style to help you succeed.</p>\n    </div>\n\n    <!-- Product grid -->\n    <div class=\"product-grid\">\n      <div v-for=\"product in filteredProducts\" :key=\"product.id\" class=\"product-card\">\n        <div class=\"product-image\">\n          <img :src=\"`http://localhost:5555${product.image_url}`\" :alt=\"product.name\">\n          <div class=\"product-overlay\">\n            <button @click=\"addToCart(product)\" class=\"add-to-cart-btn\">\n              Add to Cart\n            </button>\n          </div>\n        </div>\n        <div class=\"product-info\">\n          <h3>{{ product.name }}</h3>\n          <p class=\"price\">₱{{ product.price.toFixed(2) }}</p>\n          <div class=\"quantity-container\">\n            <button @click=\"decrementQuantity(product)\" class=\"quantity-button\" :disabled=\"product.orderQuantity <= 1\">-</button>\n            <input v-model.number=\"product.orderQuantity\" type=\"number\" min=\"1\" :max=\"product.stock\" class=\"quantity-input\" />\n            <button @click=\"incrementQuantity(product)\" class=\"quantity-button\" :disabled=\"product.orderQuantity >= product.stock\">+</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Search Bar -->\n    <div class=\"search-bar\">\n      <input type=\"text\" v-model=\"searchQuery\" @input=\"debouncedSearch\" placeholder=\"Search products...\" />\n      <button><i class=\"fas fa-search\"></i></button>\n    </div>\n\n    <!-- Footer -->\n    <footer class=\"footer\">\n      <div class=\"footer-bottom\">\n        <p>&copy; 2024 Margatheo Store. All Rights Reserved. Powered by \n          <a href=\"http://localhost:8080/home\" target=\"_blank\">Margatheo&reg;</a>\n        </p>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport _ from 'lodash';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      filteredProducts: [],\n      searchQuery: '',\n      cartItemCount: 0,\n      loading: true,\n    };\n  },\n\n  methods: {\n    async fetchProducts() {\n      try {\n        this.loading = true;\n        const response = await axios.get('http://localhost:5555/products');\n        console.log('Products response:', response.data); // Debug log\n        this.products = response.data.products.map(product => ({\n          ...product,\n          orderQuantity: 1\n        }));\n        this.filteredProducts = [...this.products];\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        if (error.response) {\n          console.error('Error response:', error.response.data);\n          console.error('Error status:', error.response.status);\n        } else if (error.request) {\n          console.error('No response received:', error.request);\n        } else {\n          console.error('Error message:', error.message);\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    debouncedSearch: _.debounce(function () {\n      this.filteredProducts = this.products.filter((product) =>\n        product.name.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    }, 300),\n\n    async addToCart(product) {\n      try {\n        await axios.post('http://localhost:5555/cart/add', {\n          productId: product.id,\n          quantity: product.orderQuantity\n        }, { withCredentials: true });\n        \n        alert('Product added to cart successfully');\n        product.orderQuantity = 1;\n        await this.updateCartItemCount();\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          alert('Please log in to add items to cart');\n          this.$router.push('/login');\n        } else {\n          console.error('Error adding to cart:', error);\n          alert('Failed to add product to cart');\n        }\n      }\n    },\n\n    async updateCartItemCount() {\n      try {\n        const response = await axios.get('http://localhost:5555/cart', { withCredentials: true });\n        this.cartItemCount = response.data.items.reduce((total, item) => total + item.quantity, 0);\n      } catch (error) {\n        console.error('Error updating cart count:', error);\n        this.cartItemCount = 0;\n      }\n    },\n\n    decrementQuantity(product) {\n      if (product.orderQuantity > 1) {\n        product.orderQuantity--;\n      }\n    },\n\n    incrementQuantity(product) {\n      if (product.orderQuantity < product.stock) {\n        product.orderQuantity++;\n      }\n    }\n  },\n\n  async created() {\n    await this.fetchProducts();\n    await this.updateCartItemCount();\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n}\n\n.header-section {\n  text-align: center;\n  margin-bottom: 3rem;\n}\n\n.header-section h1 {\n  font-size: 2rem;\n  color: #1a1a1a;\n  margin-bottom: 1rem;\n  position: relative;\n  display: inline-block;\n}\n\n.header-section h1:after {\n  content: '';\n  position: absolute;\n  bottom: -10px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 50px;\n  height: 3px;\n  background: linear-gradient(to right, #4f46e5, #7c3aed);\n}\n\n.header-section p {\n  color: #666;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 2rem;\n  margin-bottom: 3rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  transition: transform 0.3s ease;\n}\n\n.product-card:hover {\n  transform: translateY(-5px);\n}\n\n.product-image {\n  position: relative;\n  padding-top: 100%;\n  overflow: hidden;\n}\n\n.product-image img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  padding: 1rem;\n}\n\n.product-overlay {\n  position: absolute;\n  bottom: -50px;\n  left: 0;\n  right: 0;\n  background: rgba(79, 70, 229, 0.9);\n  padding: 1rem;\n  transition: bottom 0.3s ease;\n}\n\n.product-card:hover .product-overlay {\n  bottom: 0;\n}\n\n.add-to-cart-btn {\n  width: 100%;\n  padding: 0.75rem;\n  background: white;\n  border: none;\n  border-radius: 6px;\n  color: #4f46e5;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.add-to-cart-btn:hover {\n  background: #f0f0f0;\n}\n\n.product-info {\n  padding: 1rem;\n  text-align: center;\n}\n\n.product-info h3 {\n  font-size: 1.1rem;\n  color: #1a1a1a;\n  margin-bottom: 0.5rem;\n}\n\n.price {\n  font-size: 1.2rem;\n  color: #4f46e5;\n  font-weight: 600;\n}\n\n.quantity-container {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.quantity-button {\n  background: #f3f4f6;\n  border: none;\n  color: #4b5563;\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.quantity-button:hover:not(:disabled) {\n  background: #e5e7eb;\n  color: #4f46e5;\n}\n\n.quantity-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.quantity-input {\n  width: 50px;\n  text-align: center;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 0.25rem;\n  font-size: 0.95rem;\n}\n\n.search-bar {\n  display: flex;\n  align-items: center;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  padding: 0.5rem 1rem;\n  margin-right: 1.5rem;\n  transition: all 0.3s ease;\n}\n\n.search-bar:focus-within {\n  border-color: #4f46e5;\n  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\n}\n\n.search-bar input {\n  border: none;\n  outline: none;\n  width: 250px;\n  font-size: 0.95rem;\n  color: #4b5563;\n  padding: 0.25rem 0.5rem;\n}\n\n.search-bar button {\n  background: none;\n  border: none;\n  color: #4b5563;\n  cursor: pointer;\n  padding: 0.25rem;\n  transition: color 0.3s ease;\n}\n\n.search-bar button:hover {\n  color: #4f46e5;\n}\n\n.footer {\n  background: white;\n  padding: 1.5rem 0;\n  text-align: center;\n  border-top: 1px solid #e2e8f0;\n}\n\n.footer-bottom {\n  color: #64748b;\n  font-size: 0.9rem;\n}\n\n.footer-bottom a {\n  color: #4f46e5;\n  text-decoration: none;\n  font-weight: 600;\n  transition: color 0.3s ease;\n}\n\n.footer-bottom a:hover {\n  color: #7c3aed;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .container {\n    padding: 1rem;\n  }\n\n  .product-grid {\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    gap: 1rem;\n  }\n\n  .header-section h1 {\n    font-size: 1.75rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .product-grid {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  }\n\n  .product-info h3 {\n    font-size: 1rem;\n  }\n\n  .price {\n    font-size: 1.1rem;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}