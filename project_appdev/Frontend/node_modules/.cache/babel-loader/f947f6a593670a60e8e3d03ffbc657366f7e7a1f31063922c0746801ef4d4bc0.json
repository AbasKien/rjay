{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      products: [],\n      showAddProductForm: false,\n      newProduct: {\n        name: '',\n        description: '',\n        price: 0,\n        stock: 1,\n        imageFile: null\n      }\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.newProduct.imageFile = event.target.files[0];\n    },\n    async fetchProducts() {\n      try {\n        const response = await axios.get('http://localhost:5555/products');\n        this.products = response.data.products;\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        alert('There was an error fetching the products.');\n      }\n    },\n    async submitProduct() {\n      if (this.newProduct.stock <= 0 || isNaN(this.newProduct.stock)) {\n        alert('Stock quantity must be a positive number.');\n        return;\n      }\n      try {\n        const formData = new FormData();\n        formData.append('name', this.newProduct.name);\n        formData.append('description', this.newProduct.description);\n        formData.append('price', this.newProduct.price);\n        formData.append('stock', this.newProduct.stock);\n        formData.append('image', this.newProduct.imageFile);\n        const response = await axios.post('http://localhost:5555/add-product', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if (response.data.success) {\n          alert('Product added successfully!');\n          this.newProduct = {\n            name: '',\n            description: '',\n            price: 0,\n            stock: 1,\n            imageFile: null\n          };\n          this.showAddProductForm = false;\n          await this.fetchProducts();\n        } else {\n          alert('Failed to add product');\n        }\n      } catch (error) {\n        console.error('Error adding product:', error);\n        alert('There was an error adding the product.');\n      }\n    },\n    async editProduct(product) {\n      // Add code for editing product here.\n      alert('Edit feature not yet implemented');\n    },\n    async deleteProduct(productId) {\n      try {\n        const response = await axios.delete(`http://localhost:5555/products/${productId}`);\n        if (response.data.success) {\n          alert('Product deleted successfully!');\n          await this.fetchProducts();\n        } else {\n          alert('Failed to delete product');\n        }\n      } catch (error) {\n        console.error('Error deleting product:', error);\n        alert('There was an error deleting the product.');\n      }\n    },\n    async handleLogout() {\n      try {\n        console.log('Logging out...');\n        await axios.post('http://localhost:5555/logout', {}, {\n          withCredentials: true\n        });\n        localStorage.removeItem('userRole');\n        this.$router.push('/login');\n      } catch (error) {\n        console.error('Logout failed', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","products","showAddProductForm","newProduct","name","description","price","stock","imageFile","created","fetchProducts","methods","handleFileUpload","event","target","files","response","get","error","console","alert","submitProduct","isNaN","formData","FormData","append","post","headers","success","editProduct","product","deleteProduct","productId","delete","handleLogout","log","withCredentials","localStorage","removeItem","$router","push"],"sources":["C:\\laragon\\www\\project_appdev\\Frontend\\src\\views\\adminprod.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid\">\r\n      <!-- Sidebar -->\r\n      <div class=\"sidebar bg-dark p-4\">\r\n        <h4 class=\"text-white mb-4\">Admin Dashboard</h4>\r\n        <ul class=\"nav flex-column\">\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/admin\" class=\"nav-link text-white\">\r\n              <i class=\"fas fa-home\"></i> Dashboard\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/admin/products\" class=\"nav-link text-white\">\r\n              <i class=\"fas fa-box\"></i> Products\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/admin/orders\" class=\"nav-link text-white\">\r\n              <i class=\"fas fa-truck\"></i> Orders\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link to=\"/admin/customers\" class=\"nav-link text-white\">\r\n              <i class=\"fas fa-users\"></i> Customers\r\n            </router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <button @click=\"handleLogout\" class=\"btn btn-danger w-100 mt-3\">\r\n              <i class=\"fas fa-sign-out-alt\"></i> Logout\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n  \r\n      <!-- Main Content -->\r\n      <div class=\"main-content\">\r\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light p-3\">\r\n          <div class=\"container-fluid\">\r\n            <h2 class=\"navbar-brand\">Manage Products</h2>\r\n          </div>\r\n        </nav>\r\n  \r\n        <!-- Product List -->\r\n        <div class=\"content p-4\">\r\n          <h3 class=\"mb-4\">Products List</h3>\r\n          <div v-if=\"products.length === 0\" class=\"alert alert-info\">\r\n            No products available.\r\n          </div>\r\n          <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item mb-3 border rounded p-3\">\r\n            <h5>{{ product.name }}</h5>\r\n            <p><strong>Description:</strong> {{ product.description }}</p>\r\n            <p><strong>Price:</strong> ${{ product.price.toFixed(2) }}</p>\r\n            <p><strong>Stock:</strong> {{ product.stock }}</p>\r\n            <img :src=\"product.imageUrl\" alt=\"Product Image\" class=\"img-fluid mt-2\" style=\"max-height: 200px;\" />\r\n  \r\n            <!-- Edit and Delete Buttons -->\r\n            <div class=\"mt-3\">\r\n              <button @click=\"editProduct(product)\" class=\"btn btn-warning me-2\">\r\n                <i class=\"fas fa-edit\"></i> Edit\r\n              </button>\r\n              <button @click=\"deleteProduct(product.id)\" class=\"btn btn-danger\">\r\n                <i class=\"fas fa-trash-alt\"></i> Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n  \r\n          <!-- Add Product Form Button -->\r\n          <button @click=\"showAddProductForm = !showAddProductForm\" class=\"btn btn-primary mt-4\">\r\n            <i class=\"fas fa-plus-circle\"></i> Add New Product\r\n          </button>\r\n  \r\n          <!-- Add Product Form -->\r\n          <div v-if=\"showAddProductForm\" class=\"mt-4\">\r\n            <h4>Add Product</h4>\r\n            <form @submit.prevent=\"submitProduct\">\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"name\" class=\"form-label\">Product Name:</label>\r\n                <input type=\"text\" v-model=\"newProduct.name\" class=\"form-control\" id=\"name\" placeholder=\"Enter product name\" required />\r\n              </div>\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"description\" class=\"form-label\">Description:</label>\r\n                <textarea v-model=\"newProduct.description\" class=\"form-control\" id=\"description\" placeholder=\"Enter product description\" required></textarea>\r\n              </div>\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"price\" class=\"form-label\">Price:</label>\r\n                <input type=\"number\" v-model=\"newProduct.price\" class=\"form-control\" id=\"price\" placeholder=\"Enter product price\" required />\r\n              </div>\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"stock\" class=\"form-label\">Stock Quantity:</label>\r\n                <input type=\"number\" v-model=\"newProduct.stock\" class=\"form-control\" id=\"stock\" placeholder=\"Enter stock quantity\" min=\"1\" required />\r\n              </div>\r\n              <div class=\"form-group mb-3\">\r\n                <label for=\"image\" class=\"form-label\">Product Image:</label>\r\n                <input type=\"file\" @change=\"handleFileUpload\" class=\"form-control\" accept=\"image/*\" id=\"image\" required />\r\n              </div>\r\n              <button type=\"submit\" class=\"btn btn-success w-100\">\r\n                <i class=\"fas fa-plus-circle\"></i> Add Product\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        products: [],\r\n        showAddProductForm: false,\r\n        newProduct: {\r\n          name: '',\r\n          description: '',\r\n          price: 0,\r\n          stock: 1,\r\n          imageFile: null,\r\n        },\r\n      };\r\n    },\r\n    async created() {\r\n      await this.fetchProducts();\r\n    },\r\n    methods: {\r\n      handleFileUpload(event) {\r\n        this.newProduct.imageFile = event.target.files[0];\r\n      },\r\n      async fetchProducts() {\r\n        try {\r\n          const response = await axios.get('http://localhost:5555/products');\r\n          this.products = response.data.products;\r\n        } catch (error) {\r\n          console.error('Error fetching products:', error);\r\n          alert('There was an error fetching the products.');\r\n        }\r\n      },\r\n      async submitProduct() {\r\n        if (this.newProduct.stock <= 0 || isNaN(this.newProduct.stock)) {\r\n          alert('Stock quantity must be a positive number.');\r\n          return;\r\n        }\r\n  \r\n        try {\r\n          const formData = new FormData();\r\n          formData.append('name', this.newProduct.name);\r\n          formData.append('description', this.newProduct.description);\r\n          formData.append('price', this.newProduct.price);\r\n          formData.append('stock', this.newProduct.stock);\r\n          formData.append('image', this.newProduct.imageFile);\r\n  \r\n          const response = await axios.post('http://localhost:5555/add-product', formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n          });\r\n  \r\n          if (response.data.success) {\r\n            alert('Product added successfully!');\r\n            this.newProduct = { name: '', description: '', price: 0, stock: 1, imageFile: null };\r\n            this.showAddProductForm = false;\r\n            await this.fetchProducts();\r\n          } else {\r\n            alert('Failed to add product');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error adding product:', error);\r\n          alert('There was an error adding the product.');\r\n        }\r\n      },\r\n      async editProduct(product) {\r\n        // Add code for editing product here.\r\n        alert('Edit feature not yet implemented');\r\n      },\r\n      async deleteProduct(productId) {\r\n        try {\r\n          const response = await axios.delete(`http://localhost:5555/products/${productId}`);\r\n          if (response.data.success) {\r\n            alert('Product deleted successfully!');\r\n            await this.fetchProducts();\r\n          } else {\r\n            alert('Failed to delete product');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error deleting product:', error);\r\n          alert('There was an error deleting the product.');\r\n        }\r\n      },\r\n      async handleLogout() {\r\n        try {\r\n          console.log('Logging out...');\r\n          await axios.post('http://localhost:5555/logout', {}, { withCredentials: true });\r\n          localStorage.removeItem('userRole');\r\n          this.$router.push('/login');\r\n        } catch (error) {\r\n          console.error('Logout failed', error);\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .container-fluid {\r\n    display: flex;\r\n    height: 100vh;\r\n  }\r\n  \r\n  .sidebar {\r\n    width: 250px;\r\n    background-color: #1a1a1a;\r\n    color: #fff;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .sidebar h4 {\r\n    font-size: 1.25rem;\r\n  }\r\n  \r\n  .nav-link {\r\n    color: #ddd;\r\n    padding: 10px 15px;\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .nav-link:hover {\r\n    background-color: #333;\r\n  }\r\n  \r\n  .nav-link.active {\r\n    background-color: #007bff;\r\n    color: #fff;\r\n  }\r\n  \r\n  .main-content {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #f8f9fa;\r\n    overflow-y: auto;\r\n  }\r\n  \r\n  .navbar {\r\n    background-color: #ffffff;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  .content {\r\n    padding: 20px;\r\n    flex-grow: 1;\r\n  }\r\n  \r\n  .product-item {\r\n    background-color: #fff;\r\n    border: 1px solid #ddd;\r\n  }\r\n  \r\n  .product-item img {\r\n    max-width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .btn-primary {\r\n    background-color: #007bff;\r\n    border: none;\r\n  }\r\n  \r\n  .btn-primary:hover {\r\n    background-color: #0056b3;\r\n  }\r\n  \r\n  .btn-warning {\r\n    background-color: #ffc107;\r\n    border: none;\r\n  }\r\n  \r\n  .btn-warning:hover {\r\n    background-color: #e0a800;\r\n  }\r\n  \r\n  .btn-danger {\r\n    background-color: #dc3545;\r\n    border: none;\r\n  }\r\n  \r\n  .btn-danger:hover {\r\n    background-color: #c82333;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}