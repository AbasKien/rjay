{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      price: '',\n      stock: 1,\n      imageFile: null,\n      products: []\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.imageFile = event.target.files[0];\n    },\n    async submitProduct() {\n      if (this.stock <= 0 || isNaN(this.stock)) {\n        alert(\"Stock quantity must be a positive number.\");\n        return;\n      }\n      try {\n        const formData = new FormData();\n        formData.append('name', this.name);\n        formData.append('description', this.description);\n        formData.append('price', this.price);\n        formData.append('stock', this.stock);\n        formData.append('image', this.imageFile);\n        const response = await axios.post('http://localhost:5555/add-product', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        if (response.data.success) {\n          alert('Product added successfully!');\n          this.name = '';\n          this.description = '';\n          this.price = '';\n          this.stock = 1;\n          this.imageFile = null;\n          await this.fetchProducts();\n        } else {\n          alert('Failed to add product');\n        }\n      } catch (error) {\n        console.error('Error adding product:', error);\n        alert('There was an error adding the product.');\n      }\n    },\n    async fetchProducts() {\n      try {\n        const response = await axios.get('http://localhost:5555/products');\n        this.products = response.data.products;\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        alert('There was an error fetching the products.');\n      }\n    },\n    async handleLogout() {\n      try {\n        console.log('Logging out...');\n        await axios.post('http://localhost:5555/logout', {}, {\n          withCredentials: true\n        });\n        localStorage.removeItem('userRole');\n        this.$router.push('/login');\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","name","description","price","stock","imageFile","products","created","fetchProducts","methods","handleFileUpload","event","target","files","submitProduct","isNaN","alert","formData","FormData","append","response","post","headers","success","error","console","get","handleLogout","log","withCredentials","localStorage","removeItem","$router","push"],"sources":["C:\\laragon\\www\\project_appdev\\Frontend\\src\\views\\admin.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <!-- Sidebar -->\n    <div class=\"sidebar bg-dark p-4\">\n      <h4 class=\"text-white mb-4\">Admin Dashboard</h4>\n      <ul class=\"nav flex-column\">\n        <li class=\"nav-item\">\n          <router-link to=\"/admin\" class=\"nav-link text-white\">\n            <i class=\"fas fa-home\"></i> Dashboard\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/products\" class=\"nav-link text-white\">\n            <i class=\"fas fa-box\"></i> Products\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link to=\"/admin/orders\" class=\"nav-link text-white\">\n            <i class=\"fas fa-truck\"></i> Orders\n          </router-link>\n        </li>\n        <li class=\"nav-item\">\n    \n        </li>\n        <li class=\"nav-item\">\n          <button @click=\"handleLogout\" class=\"btn btn-danger w-100 mt-3\">\n            <i class=\"fas fa-sign-out-alt\"></i> Logout\n          </button>\n        </li>\n      </ul>\n    </div>\n\n    <!-- Main Content -->\n    <div class=\"main-content\">\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light p-3\">\n        <div class=\"container-fluid\">\n          <h2 class=\"navbar-brand\">Admin Panel</h2>\n        </div>\n      </nav>\n\n      <!-- Add Product Form -->\n      <div class=\"content p-4\">\n        <h3 class=\"mb-4\">Add Product</h3>\n        <form @submit.prevent=\"submitProduct\" class=\"product-form\">\n          <div class=\"form-group mb-3\">\n            <label for=\"name\" class=\"form-label\">Product Name:</label>\n            <input type=\"text\" v-model=\"name\" class=\"form-control\" id=\"name\" placeholder=\"Enter product name\" required />\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"description\" class=\"form-label\">Description:</label>\n            <textarea v-model=\"description\" class=\"form-control\" id=\"description\" placeholder=\"Enter product description\" required></textarea>\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"price\" class=\"form-label\">Price:</label>\n            <input type=\"number\" v-model=\"price\" class=\"form-control\" id=\"price\" placeholder=\"Enter product price\" required />\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"stock\" class=\"form-label\">Stock Quantity:</label>\n            <input type=\"number\" v-model=\"stock\" class=\"form-control\" id=\"stock\" placeholder=\"Enter stock quantity\" min=\"1\" required />\n          </div>\n          <div class=\"form-group mb-3\">\n            <label for=\"image\" class=\"form-label\">Product Image:</label>\n            <input type=\"file\" @change=\"handleFileUpload\" class=\"form-control\" accept=\"image/*\" id=\"image\" required />\n          </div>\n          <button type=\"submit\" class=\"btn btn-success w-100\">\n            <i class=\"fas fa-plus-circle\"></i> Add Product\n          </button>\n        </form>\n\n        <!-- Display Added Products -->\n        <h3 class=\"mt-5\">Products List</h3>\n        <div class=\"product-list\">\n          <div v-if=\"products.length === 0\" class=\"alert alert-info\">\n            No products available.\n          </div>\n          <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item mb-3 border rounded p-3\">\n            <h5>{{ product.name }}</h5>\n            <p>{{ product.description }}</p>\n            <p><strong>Price:</strong> ${{ product.price }}</p>\n            <p><strong>Stock:</strong> {{ product.stock }}</p>\n            <img :src=\"product.imageUrl\" alt=\"Product Image\" class=\"img-fluid mt-2\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      name: '',\n      description: '',\n      price: '',\n      stock: 1,\n      imageFile: null,\n      products: [],\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.imageFile = event.target.files[0];\n    },\n    async submitProduct() {\n      if (this.stock <= 0 || isNaN(this.stock)) {\n        alert(\"Stock quantity must be a positive number.\");\n        return;\n      }\n\n      try {\n        const formData = new FormData();\n        formData.append('name', this.name);\n        formData.append('description', this.description);\n        formData.append('price', this.price);\n        formData.append('stock', this.stock);\n        formData.append('image', this.imageFile);\n\n        const response = await axios.post('http://localhost:5555/add-product', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' },\n        });\n\n        if (response.data.success) {\n          alert('Product added successfully!');\n          this.name = '';\n          this.description = '';\n          this.price = '';\n          this.stock = 1;\n          this.imageFile = null;\n          await this.fetchProducts();\n        } else {\n          alert('Failed to add product');\n        }\n      } catch (error) {\n        console.error('Error adding product:', error);\n        alert('There was an error adding the product.');\n      }\n    },\n    async fetchProducts() {\n      try {\n        const response = await axios.get('http://localhost:5555/products');\n        this.products = response.data.products;\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        alert('There was an error fetching the products.');\n      }\n    },\n    async handleLogout() {\n      try {\n        console.log('Logging out...');\n        await axios.post('http://localhost:5555/logout', {}, { withCredentials: true });\n        localStorage.removeItem('userRole');\n        this.$router.push('/login');\n      } catch (error) {\n        console.error(\"Logout failed\", error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container-fluid {\n  display: flex;\n  height: 100vh;\n}\n\n.sidebar {\n  width: 250px;\n  background-color: #1a1a1a;\n  color: #fff;\n  height: 100%;\n  overflow-y: auto;\n  box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.sidebar h4 {\n  font-size: 1.25rem;\n}\n\n.nav-link {\n  color: #ddd;\n  padding: 10px 15px;\n  border-radius: 4px;\n  transition: background-color 0.3s;\n}\n\n.nav-link:hover {\n  background-color: #333;\n}\n\n.nav-link.active {\n  background-color: #007bff;\n  color: #fff;\n}\n\n.main-content {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: #f8f9fa;\n  overflow-y: auto;\n}\n\n.navbar {\n  background-color: #ffffff;\n  border-bottom: 1px solid #ddd;\n}\n\n.content {\n  padding: 20px;\n  flex-grow: 1;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.btn-success {\n  background-color: #28a745;\n  border: none;\n}\n\n.btn-success:hover {\n  background-color: #218838;\n}\n\n.btn-danger {\n  background-color: #dc3545;\n}\n\n.btn-danger:hover {\n  background-color: #c82333;\n}\n\n.product-list {\n  margin-top: 20px;\n}\n\n.product-item {\n  background-color: #ffffff;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n\n.product-item img {\n  max-width: 100%;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":";AAyFA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE,IAAI;MACfC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC;EAC5B,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAACN,SAAQ,GAAIM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACxC,CAAC;IACD,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI,IAAI,CAACV,KAAI,IAAK,KAAKW,KAAK,CAAC,IAAI,CAACX,KAAK,CAAC,EAAE;QACxCY,KAAK,CAAC,2CAA2C,CAAC;QAClD;MACF;MAEA,IAAI;QACF,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAClB,IAAI,CAAC;QAClCgB,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACjB,WAAW,CAAC;QAChDe,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,KAAK,CAAC;QACpCc,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACf,KAAK,CAAC;QACpCa,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACd,SAAS,CAAC;QAExC,MAAMe,QAAO,GAAI,MAAMrB,KAAK,CAACsB,IAAI,CAAC,mCAAmC,EAAEJ,QAAQ,EAAE;UAC/EK,OAAO,EAAE;YAAE,cAAc,EAAE;UAAsB;QACnD,CAAC,CAAC;QAEF,IAAIF,QAAQ,CAACpB,IAAI,CAACuB,OAAO,EAAE;UACzBP,KAAK,CAAC,6BAA6B,CAAC;UACpC,IAAI,CAACf,IAAG,GAAI,EAAE;UACd,IAAI,CAACC,WAAU,GAAI,EAAE;UACrB,IAAI,CAACC,KAAI,GAAI,EAAE;UACf,IAAI,CAACC,KAAI,GAAI,CAAC;UACd,IAAI,CAACC,SAAQ,GAAI,IAAI;UACrB,MAAM,IAAI,CAACG,aAAa,CAAC,CAAC;QAC5B,OAAO;UACLQ,KAAK,CAAC,uBAAuB,CAAC;QAChC;MACF,EAAE,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CR,KAAK,CAAC,wCAAwC,CAAC;MACjD;IACF,CAAC;IACD,MAAMR,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMY,QAAO,GAAI,MAAMrB,KAAK,CAAC2B,GAAG,CAAC,gCAAgC,CAAC;QAClE,IAAI,CAACpB,QAAO,GAAIc,QAAQ,CAACpB,IAAI,CAACM,QAAQ;MACxC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDR,KAAK,CAAC,2CAA2C,CAAC;MACpD;IACF,CAAC;IACD,MAAMW,YAAYA,CAAA,EAAG;MACnB,IAAI;QACFF,OAAO,CAACG,GAAG,CAAC,gBAAgB,CAAC;QAC7B,MAAM7B,KAAK,CAACsB,IAAI,CAAC,8BAA8B,EAAE,CAAC,CAAC,EAAE;UAAEQ,eAAe,EAAE;QAAK,CAAC,CAAC;QAC/EC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;QACnC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MAC7B,EAAE,OAAOT,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}